<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Eurojackpot Tool â€“ Gruppen & Analyse</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
  :root{
    --g1:#2ecc71;   /* 1â€“10  grÃ¼n */
    --g2:#f39c12;   /* 11â€“20 orange */
    --g3:#3498db;   /* 21â€“30 blau */
    --g4:#9b59b6;   /* 31â€“40 lila */
    --g5:#e74c3c;   /* 41â€“50 rot */
    --e1:#f1c40f;   /* 1â€“6   gelb */
    --e2:#16a085;   /* 7â€“12  tÃ¼rkis */
    --bg:#f6f8fb;
    --card:#fff;
    --muted:#6c757d;
  }
  body{background:var(--bg);}
  .app-title{font-weight:800; letter-spacing:.2px;}
  .cardx{background:var(--card); border-radius:14px; padding:16px; box-shadow:0 6px 18px rgba(0,0,0,.06);}
  .map-wrap{display:grid; grid-template-columns: repeat(10, minmax(28px,1fr)); gap:8px; max-width: 560px; margin:auto;}
  .ball{aspect-ratio:1/1; border-radius:50%; font-weight:700; display:flex; align-items:center; justify-content:center; user-select:none; color:#fff; text-shadow:0 1px 0 rgba(0,0,0,.35);}
  .g1{background:var(--g1);} .g2{background:var(--g2);} .g3{background:var(--g3);} .g4{background:var(--g4);} .g5{background:var(--g5);}
  .e1{background:var(--e1); color:#111; text-shadow:none;} .e2{background:var(--e2);}
  .dim{filter: grayscale(.55) brightness(.85) opacity(.6);}
  .sticky-bottom-bar{position:fixed; left:0; right:0; bottom:0; background:#fff; border-top:1px solid #ddd; z-index:1000;}
  .sticky-bottom-bar .btn{height:54px; font-weight:700;}
  .live-box{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background:#0b0c10; color:#9eff9e; border-radius:10px; padding:12px; height:220px; overflow:auto;}
  .section-title{font-weight:800;}
  .range-row{display:grid; grid-template-columns: 120px 1fr 60px; gap:10px; align-items:center; margin-bottom:10px;}
  .badge-dot{display:inline-flex; align-items:center; gap:6px;}
  .badge-dot i{width:10px;height:10px;border-radius:50%; display:inline-block;}
  .badge-g1 i{background:var(--g1);} .badge-g2 i{background:var(--g2);} .badge-g3 i{background:var(--g3);} .badge-g4 i{background:var(--g4);} .badge-g5 i{background:var(--g5);} .badge-e1 i{background:var(--e1);} .badge-e2 i{background:var(--e2);}
  .counter-pill{padding:.15rem .5rem; border-radius:999px; font-weight:700;}
  .counter-ok{background:#eafaf0; color:#1e7e34;}
  .counter-bad{background:#fff2f0; color:#b02a37;}
  .hide{display:none !important;}
</style>
</head>
<body>
<div class="container py-3 pb-5">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="app-title h3 mb-0">Eurojackpot Tool</h1>
    <a class="btn btn-sm btn-outline-dark" href="https://www.lotto-bayern.de/static/gamebroker_2/de/download_files/archiv_eurojackpot.zip" target="_blank" rel="noopener">Neueste ZIP</a>
  </div>

  <div class="row g-3">
    <div class="col-lg-6">
      <div class="cardx mb-3">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <div class="section-title mb-1">Archiv</div>
            <div id="statusText" class="small text-muted">Noch kein Archiv geladen.</div>
          </div>
          <input class="form-control form-control-sm" type="file" id="zipInput" accept=".zip,.txt,.csv">
        </div>
        <hr>
        <div class="row text-center g-2">
          <div class="col-6 col-md-3">
            <div class="small text-muted">Ziehungen</div>
            <div id="kpiCount" class="h5 mb-0">â€“</div>
          </div>
          <div class="col-6 col-md-3">
            <div class="small text-muted">Von</div>
            <div id="kpiFrom" class="h5 mb-0">â€“</div>
          </div>
          <div class="col-6 col-md-3">
            <div class="small text-muted">Bis</div>
            <div id="kpiTo" class="h5 mb-0">â€“</div>
          </div>
          <div class="col-6 col-md-3">
            <div class="small text-muted">AktualitÃ¤t</div>
            <div id="kpiFresh" class="h5 mb-0">â€“</div>
          </div>
        </div>
      </div>

      <div class="cardx mb-3">
        <div class="section-title mb-2">Einstellungen</div>
        <label class="form-label">Anzahl Kombinationen</label>
        <select id="kombis" class="form-select mb-3"></select>

        <label class="form-label">Modus</label>
        <select id="modus" class="form-select mb-3">
          <option value="never">Nur nie gezogene</option>
          <option value="last100">Letzte 100 â€“ Frequenzmuster</option>
          <option value="hot">Hot Paare/Triples</option>
          <option value="groups">5er-Gruppen (streng)</option>
        </select>

        <!-- Gruppensektion wird nur bei Modus 'groups' angezeigt -->
        <div id="groupSection" class="hide">
          <div class="mb-2 small text-muted">Gruppen (Summe muss 5 ergeben). <span id="mainCounter" class="counter-pill counter-ok">0/5</span></div>
          <div id="groupControls"></div>
        </div>

        <hr>
        <div class="form-check form-switch mb-2">
          <input class="form-check-input" type="checkbox" id="toggleEuro">
          <label class="form-check-label" for="toggleEuro">Eurozahlen berÃ¼cksichtigen (2 Zahlen)</label>
        </div>
        <div id="euroSection" class="hide">
          <div class="mb-2 small text-muted">Euro-Summe muss 0 oder 2 sein. <span id="euroCounter" class="counter-pill counter-ok">0/2</span></div>
          <div id="euroControls"></div>
        </div>
      </div>

      <div class="cardx mb-3">
        <div class="section-title mb-2">Analyse</div>
        <div class="small text-muted">KurzÃ¼bersicht aus dem geladenen Archiv</div>
        <div id="analysisBox" class="mt-2 small"></div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="cardx mb-3" id="mapSection">
        <div class="d-flex align-items-center justify-content-between">
          <div class="section-title">Map (1â€“50)</div>
          <div class="small">
            <span class="badge-dot badge-g1"><i></i>1â€“10</span>
            <span class="badge-dot badge-g2 ms-2"><i></i>11â€“20</span>
            <span class="badge-dot badge-g3 ms-2"><i></i>21â€“30</span>
            <span class="badge-dot badge-g4 ms-2"><i></i>31â€“40</span>
            <span class="badge-dot badge-g5 ms-2"><i></i>41â€“50</span>
          </div>
        </div>
        <div id="mapMain" class="map-wrap mt-2"></div>
        <div class="section-title mt-3">Eurozahlen (1â€“12)</div>
        <div id="mapEuro" class="map-wrap mt-2"></div>
      </div>

      <div class="cardx mb-3" id="resultsSection">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
          <div class="section-title mb-0">Ergebnisse</div>
          <div class="small text-muted" id="progressText">â€“</div>
        </div>
        <div id="liveOutput" class="live-box mt-2"></div>
      </div>
    </div>
  </div>
</div>

<!-- Sticky bottom bar -->
<div class="sticky-bottom-bar py-2">
  <div class="container">
    <div class="row g-2">
      <div class="col-6">
        <button id="generateBtn" class="btn btn-dark w-100">âš¡ Generieren</button>
      </div>
      <div class="col-6">
        <button id="analyseBtn" class="btn btn-outline-dark w-100">ðŸ“ˆ Analysieren</button>
      </div>
    </div>
  </div>
</div>

<script>
/* ------------ Helpers ------------- */
const $ = sel => document.querySelector(sel);
const $$ = sel => Array.from(document.querySelectorAll(sel));
function smoothScrollTo(el){ el.scrollIntoView({behavior:'smooth', block:'start'}); }
function iso(y,m,d){ const dt=new Date(+y, +m-1, +d); return isNaN(dt)? null : dt.toISOString().slice(0,10); }
function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }

/* ------------ State ------------- */
let draws=[];  // {date:'YYYY-MM-DD', main:[5], euro:[2]}
let freqMain = Array(51).fill(0);
let freqEuro = Array(13).fill(0);

/* ------------ UI build ------------- */
// Kombis 1..25
for(let i=1;i<=25;i++){ const o=document.createElement('option'); o.value=i; o.textContent=i; $('#kombis').appendChild(o); }

const GROUPS=[
  {label:'1â€“10', from:1, to:10, cls:'g1'},
  {label:'11â€“20', from:11, to:20, cls:'g2'},
  {label:'21â€“30', from:21, to:30, cls:'g3'},
  {label:'31â€“40', from:31, to:40, cls:'g4'},
  {label:'41â€“50', from:41, to:50, cls:'g5'},
];
const EGROUPS=[
  {label:'1â€“6', from:1, to:6, cls:'e1'},
  {label:'7â€“12', from:7, to:12, cls:'e2'},
];

function buildGroupControls(){
  const host = $('#groupControls'); host.innerHTML='';
  GROUPS.forEach((g,idx)=>{
    const row=document.createElement('div'); row.className='range-row';
    const lab=document.createElement('div'); lab.innerHTML = `<span class="badge-dot badge-${g.cls}"><i></i>${g.label}</span>`;
    const sel=document.createElement('select'); sel.className='form-select'; sel.dataset.idx=idx;
    for(let v=0;v<=5;v++){ const o=document.createElement('option'); o.value=v; o.textContent=v; sel.appendChild(o); }
    sel.addEventListener('change', updateCounters);
    const hint=document.createElement('div'); hint.className='text-end text-muted small'; hint.textContent='0';
    row.appendChild(lab); row.appendChild(sel); row.appendChild(hint); host.appendChild(row);
  });
}
function buildEuroControls(){
  const host = $('#euroControls'); host.innerHTML='';
  EGROUPS.forEach((g,idx)=>{
    const row=document.createElement('div'); row.className='range-row';
    const lab=document.createElement('div'); lab.innerHTML = `<span class="badge-dot badge-${g.cls}"><i></i>${g.label}</span>`;
    const sel=document.createElement('select'); sel.className='form-select euro-sel'; sel.dataset.idx=idx;
    for(let v=0;v<=2;v++){ const o=document.createElement('option'); o.value=v; o.textContent=v; sel.appendChild(o); }
    sel.addEventListener('change', updateCounters);
    const hint=document.createElement('div'); hint.className='text-end text-muted small'; hint.textContent='0';
    row.appendChild(lab); row.appendChild(sel); row.appendChild(hint); host.appendChild(row);
  });
}
buildGroupControls(); buildEuroControls();

// Moduswechsel â†’ Gruppen-UI ein/aus
$('#modus').addEventListener('change', ()=>{
  const groupsMode = $('#modus').value === 'groups';
  $('#groupSection').classList.toggle('hide', !groupsMode);
  updateCounters();
});
// Euro-Toggle â†’ Euro-UI ein/aus
$('#toggleEuro').addEventListener('change', e=>{
  $('#euroSection').classList.toggle('hide', !e.target.checked);
  updateCounters();
});

function updateCounters(){
  // Main nur prÃ¼fen, wenn Gruppen-Modus aktiv
  const groupsMode = $('#modus').value === 'groups';
  let sum=0;
  if(groupsMode){
    $$('#groupControls select').forEach(sel=>{ const v=+sel.value||0; sum+=v; sel.parentElement.lastChild.textContent=v; });
    const mc=$('#mainCounter'); mc.textContent = sum+'/5'; mc.className='counter-pill '+(sum===5?'counter-ok':'counter-bad');
  }
  // Euro immer prÃ¼fen, wenn aktiviert
  let esum=0;
  if($('#toggleEuro').checked){
    $$('#euroControls select').forEach(sel=>{ const v=+sel.value||0; esum+=v; sel.parentElement.lastChild.textContent=v; });
  }
  const ecText = $('#euroCounter'); if(ecText){ ecText.textContent = esum+'/2'; ecText.className='counter-pill '+((esum===0||esum===2)?'counter-ok':'counter-bad'); }
}
updateCounters();

/* ------------ Maps ------------- */
function buildMap(){
  const mapMain = $('#mapMain'); mapMain.innerHTML='';
  for(let n=1;n<=50;n++){ const g=n<=10?'g1':n<=20?'g2':n<=30?'g3':n<=40?'g4':'g5'; const b=document.createElement('div'); b.className='ball '+g; b.textContent=n; b.dataset.num=n; mapMain.appendChild(b); }
  const mapEuro = $('#mapEuro'); mapEuro.innerHTML='';
  for(let n=1;n<=12;n++){ const g=n<=6?'e1':'e2'; const b=document.createElement('div'); b.className='ball '+g; b.textContent=n; b.dataset.num=n; mapEuro.appendChild(b); }
}
buildMap();

function liveMark(main,euro){
  $$('#mapMain .ball').forEach(b=>b.classList.add('dim'));
  $$('#mapEuro .ball').forEach(b=>b.classList.add('dim'));
  main.forEach(n=> $('#mapMain .ball[data-num="'+n+'"]')?.classList.remove('dim'));
  euro.forEach(n=> $('#mapEuro .ball[data-num="'+n+'"]')?.classList.remove('dim'));
}

/* ------------ Archiv Laden & Parsing ------------- */
document.getElementById('zipInput').addEventListener('change', handleFile);

async function handleFile(evt){
  const file = evt.target.files?.[0]; if(!file) return;
  resetArchiveUI();
  $('#statusText').textContent = 'Ladeâ€¦';
  try{
    let text = '';
    if(file.name.toLowerCase().endsWith('.zip')){
      const zip = await JSZip.loadAsync(file);
      // Bevorzugt eurojackpot*.txt/csv
      const entries = Object.values(zip.files);
      let entry = entries.find(f=>/\.(txt|csv)$/i.test(f.name) && /eurojackpot/i.test(f.name)) ||
                  entries.find(f=>/\.(txt|csv)$/i.test(f.name));
      if(!entry) throw new Error('ZIP ohne lesbare TXT/CSV.');
      text = await entry.async('string');
    }else{
      text = await file.text();
    }
    parseArchiveText(text);
  }catch(e){
    console.error(e);
    $('#statusText').textContent = 'Fehler: '+e.message;
  }
}

function resetArchiveUI(){
  draws=[]; freqMain.fill(0); freqEuro.fill(0);
  $('#kpiCount').textContent='â€“'; $('#kpiFrom').textContent='â€“'; $('#kpiTo').textContent='â€“'; $('#kpiFresh').textContent='â€“';
  $('#analysisBox').innerHTML='';
}

function parseArchiveText(txt){
  // BOM entfernen & Zeilen normalisieren
  txt = txt.replace(/^\uFEFF/, '');
  const lines = txt.replace(/\r\n?/g,'\n').split('\n').map(l=>l.trim()).filter(l=>l.length>0);
  if(!lines.length){ $('#statusText').textContent='Leere Datei.'; return; }

  const regDMY = /^(\d{1,2})[.\-/](\d{1,2})[.\-/](\d{2,4})$/;
  const regYMD = /^(\d{4})[.\-/](\d{1,2})[.\-/](\d{1,2})$/;

  function parseLine(line){
    // 1) Versuche "DD.MM.YYYY ..." oder "YYYY-MM-DD ..."
    const tokens = line.split(/;|,|\t|\s+/).filter(Boolean);
    let date=null, rest=[];

    if(tokens.length>=1){
      if(regDMY.test(tokens[0])){
        const m = tokens[0].match(regDMY);
        date = iso(m[3], m[2], m[1]);
        rest = tokens.slice(1);
      }else if(regYMD.test(tokens[0])){
        const m = tokens[0].match(regYMD);
        date = iso(m[1], m[2], m[3]);
        rest = tokens.slice(1);
      }else if(tokens.length>=3 && /^\d+$/.test(tokens[0]) && /^\d+$/.test(tokens[1]) && /^\d+$/.test(tokens[2])){
        date = iso(tokens[2], tokens[1], tokens[0]);
        rest = tokens.slice(3);
      }else{
        rest = tokens.slice();
      }
    }

    // 2) Sammle alle Zahlen aus rest und suche 5 Haupt (1â€“50) + 2 Euro (1â€“12)
    const nums = rest.map(x=>Number(x)).filter(n=>!Number.isNaN(n));
    // Wenn noch keine Date erkannt, versuche sie grob aus Anfangszahlen (Tag,Monat,Jahr)
    if(!date && nums.length>=3){
      const [a,b,c]=nums; // Tag,Monat,Jahr?
      const try1 = iso(c,b,a); if(try1) date=try1;
    }
    // Filtern und deduplizieren
    const mainCandidates = nums.filter(n=>n>=1 && n<=50);
    const euroCandidates = nums.filter(n=>n>=1 && n<=12);
    const uniqMain = [...new Set(mainCandidates)].slice(0,5).sort((x,y)=>x-y);
    const uniqEuro = [...new Set(euroCandidates)].slice(0,2).sort((x,y)=>x-y);
    if(!date || uniqMain.length!==5 || uniqEuro.length!==2) return null;
    return {date, main: uniqMain, euro: uniqEuro};
  }

  for(const line of lines){
    const rec = parseLine(line);
    if(rec){
      draws.push(rec);
      rec.main.forEach(n=>freqMain[n]++);
      rec.euro.forEach(n=>freqEuro[n]++);
    }
  }

  if(!draws.length){ $('#statusText').textContent='Keine gÃ¼ltigen Ziehungen erkannt.'; return; }

  draws.sort((a,b)=> a.date.localeCompare(b.date));
  $('#kpiCount').textContent = String(draws.length);
  $('#kpiFrom').textContent = draws[0].date;
  $('#kpiTo').textContent   = draws[draws.length-1].date;
  const last = new Date(draws[draws.length-1].date);
  const deltaDays = Math.round((Date.now()-last.getTime())/86400000);
  $('#kpiFresh').textContent = (deltaDays<=14)? 'aktuell' : 'veraltet';
  $('#statusText').textContent = 'Archiv geladen âœ”';

  renderAnalysis();
}

function renderAnalysis(){
  const mf=[]; for(let n=1;n<=50;n++) mf.push([n,freqMain[n]]);
  mf.sort((a,b)=>b[1]-a[1]); const topM = mf.slice(0,10).map(([n,f])=>`${n} (${f})`).join(', ');
  const ef=[]; for(let n=1;n<=12;n++) ef.push([n,freqEuro[n]]);
  ef.sort((a,b)=>b[1]-a[1]); const topE = ef.slice(0,6).map(([n,f])=>`${n} (${f})`).join(', ');
  $('#analysisBox').innerHTML = `<div><strong>Top Hauptzahlen:</strong> ${topM}</div><div><strong>Top Eurozahlen:</strong> ${topE}</div>`;
}

/* ------------ Generator ------------- */
function pickFromRange(from,to,count,weightFn){
  const bag=[]; for(let n=from;n<=to;n++){ const w = Math.max(1, weightFn? weightFn(n):1); for(let k=0;k<w;k++) bag.push(n); }
  shuffle(bag);
  const res=[]; for(const v of bag){ if(!res.includes(v)){ res.push(v); if(res.length===count) break; } }
  return res;
}
function generateOne(){
  const mode = $('#modus').value;

  // Gruppen nur anwenden, wenn 'groups'
  let main=[];
  if(mode==='groups'){
    const counts = $$('#groupControls select').map(s=>+s.value||0);
    const sum = counts.reduce((a,b)=>a+b,0);
    if(sum!==5) throw new Error('Gruppen-Summe muss 5 sein (nur im Gruppen-Modus).');
    // neutrale Gewichtung
    GROUPS.forEach((g,i)=>{ const need=counts[i]; if(need>0){ main.push(...pickFromRange(g.from,g.to,need, null)); } });
  }else{
    // ohne Gruppen: wÃ¤hle 5 aus 1..50 ggf. mit Gewicht nach Modus
    let weightMain = null, weightEuro = null;
    if(mode==='last100' && draws.length){
      const r = draws.slice(-100);
      const fm = Array(51).fill(1), fe = Array(13).fill(1);
      r.forEach(d=>{ d.main.forEach(n=>fm[n]++); d.euro.forEach(n=>fe[n]++); });
      const mM=Math.max(...fm.slice(1)), mE=Math.max(...fe.slice(1));
      weightMain = n=>Math.ceil(3*fm[n]/mM);
      weightEuro = n=>Math.ceil(3*fe[n]/mE);
    }else if(mode==='never' && draws.length){
      const fm=freqMain.slice(), fe=freqEuro.slice();
      weightMain = n=> fm[n]===0? 4 : (fm[n]<=5? 3:1);
      weightEuro = n=> fe[n]===0? 4 : (fe[n]<=3? 3:1);
    }else if(mode==='hot' && draws.length){
      const orderM=[...Array(51).keys()].slice(1).sort((a,b)=>freqMain[b]-freqMain[a]).slice(0,15);
      const orderE=[...Array(13).keys()].slice(1).sort((a,b)=>freqEuro[b]-freqEuro[a]).slice(0,6);
      const pm=Array(51).fill(1), pe=Array(13).fill(1);
      orderM.forEach(n=>pm[n]=3); orderE.forEach(n=>pe[n]=3);
      weightMain = n=>pm[n]; weightEuro = n=>pe[n];
    }
    // 5 unterschiedliche aus 1..50
    main = pickFromRange(1,50,5,weightMain).sort((a,b)=>a-b);
  }

  // Euro optional (immer 2 falls aktiv, unabhÃ¤ngig vom Modus)
  let euro=[];
  if($('#toggleEuro').checked){
    const ecounts = $$('#euroControls select').map(s=>+s.value||0);
    const esum = ecounts.reduce((a,b)=>a+b,0);
    if(!(esum===0 || esum===2)) throw new Error('Euro-Summe muss 0 oder 2 sein.');
    if(esum===2){
      const wE = null; // Gewicht nach Modus wÃ¤re mÃ¶glich; hier neutral
      EGROUPS.forEach((g,i)=>{ const need=ecounts[i]; if(need>0){ euro.push(...pickFromRange(g.from,g.to,need,wE)); } });
      euro.sort((a,b)=>a-b);
    }
  }
  return {main, euro};
}

function tipToString(t){ return t.main.join('-') + (t.euro.length? '  |  E:'+t.euro.join('-'):''); }

/* ------------ Buttons ------------- */
document.getElementById('generateBtn').addEventListener('click', ()=>{
  smoothScrollTo(document.getElementById('mapSection'));
  const total = +document.getElementById('kombis').value || 1;
  const out = document.getElementById('liveOutput'); out.textContent='';
  const prog = document.getElementById('progressText'); prog.textContent='0/'+total+' Varianten';

  let i=0;
  const timer = setInterval(()=>{
    try{
      const t = generateOne();
      i++;
      // Live auf Map hervorheben
      $$('#mapMain .ball, #mapEuro .ball').forEach(b=>b.classList.add('dim'));
      t.main.forEach(n=> $('#mapMain .ball[data-num="'+n+'"]')?.classList.remove('dim'));
      t.euro.forEach(n=> $('#mapEuro .ball[data-num="'+n+'"]')?.classList.remove('dim'));
      // Ausgabe
      out.textContent += '#'+i+': '+tipToString(t)+'\n';
      out.scrollTop = out.scrollHeight;
      prog.textContent = i+'/'+total+' Varianten';
      if(i>=total) clearInterval(timer);
    }catch(e){
      out.textContent += 'FEHLER: '+e.message+'\n';
      prog.textContent = 'Fehler';
      clearInterval(timer);
    }
  }, 260);
});

document.getElementById('analyseBtn').addEventListener('click', ()=>{
  smoothScrollTo(document.getElementById('resultsSection'));
});

// Init
(function init(){
  // Modus initial anwenden
  $('#groupSection').classList.add('hide');
  $('#euroSection').classList.add('hide');
})();

/* ------------ Build maps once ------------- */
(function build(){
  const mapMain = $('#mapMain'); mapMain.innerHTML='';
  for(let n=1;n<=50;n++){ const g=n<=10?'g1':n<=20?'g2':n<=30?'g3':n<=40?'g4':'g5'; const b=document.createElement('div'); b.className='ball '+g; b.textContent=n; b.dataset.num=n; mapMain.appendChild(b); }
  const mapEuro = $('#mapEuro'); mapEuro.innerHTML='';
  for(let n=1;n<=12;n++){ const g=n<=6?'e1':'e2'; const b=document.createElement('div'); b.className='ball '+g; b.textContent=n; b.dataset.num=n; mapEuro.appendChild(b); }
})();
</script>
</body>
</html>
