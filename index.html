<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Eurojackpot Tool â€“ Gruppen & Analyse</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
  body{background:#f6f8fb;}
  .cardx{background:#fff; border-radius:14px; padding:16px; box-shadow:0 6px 18px rgba(0,0,0,.06);}
  .map-wrap{display:grid; grid-template-columns: repeat(10, minmax(28px,1fr)); gap:8px; max-width:560px; margin:auto;}
  .ball{aspect-ratio:1/1; border-radius:50%; font-weight:700; display:flex; align-items:center; justify-content:center; user-select:none; color:#fff;}
  .g1{background:#2ecc71;} .g2{background:#f39c12;} .g3{background:#3498db;} .g4{background:#9b59b6;} .g5{background:#e74c3c;}
  .e1{background:#f1c40f; color:#111;} .e2{background:#16a085;}
  .dim{filter:grayscale(.55) brightness(.85) opacity(.6);}
  .sticky-bottom-bar{position:fixed; left:0; right:0; bottom:0; background:#fff; border-top:1px solid #ddd; z-index:1000;}
  .sticky-bottom-bar .btn{height:54px; font-weight:700;}
  .live-box{font-family:monospace; background:#000; color:#0f0; border-radius:8px; padding:10px; height:220px; overflow:auto;}
  .range-row{display:grid; grid-template-columns:120px 1fr 60px; gap:10px; align-items:center; margin-bottom:10px;}
  .counter-pill{padding:.15rem .5rem; border-radius:999px; font-weight:700;}
  .counter-ok{background:#eafaf0; color:#1e7e34;} .counter-bad{background:#fff2f0; color:#b02a37;}
</style>
</head>
<body>
<div class="container py-3 pb-5">
  <h1 class="h3 mb-3">Eurojackpot Tool</h1>

  <div class="cardx mb-3">
    <h5>Archiv</h5>
    <div id="statusText" class="small text-muted">Noch kein Archiv geladen.</div>
    <input class="form-control mt-2" type="file" id="zipInput" accept=".zip,.txt,.csv">
  </div>

  <div class="cardx mb-3">
    <h5>Einstellungen</h5>
    <label>Kombinationen</label>
    <select id="kombis" class="form-select mb-3"></select>
    <label>Modus</label>
    <select id="modus" class="form-select mb-3">
      <option value="never">Nie gezogene</option>
      <option value="last100">Letzte 100 Muster</option>
      <option value="hot">Hot Paare/Triples</option>
      <option value="groups">5er Gruppen</option>
    </select>
    <div class="mb-2 small text-muted">Gruppen-Summe muss 5 sein. <span id="mainCounter" class="counter-pill counter-ok">0/5</span></div>
    <div id="groupControls"></div>
    <hr>
    <div class="form-check form-switch mb-2">
      <input class="form-check-input" type="checkbox" id="toggleEuro">
      <label class="form-check-label" for="toggleEuro">Eurozahlen berÃ¼cksichtigen</label>
    </div>
    <div class="mb-2 small text-muted">Euro-Summe muss 0 oder 2 sein. <span id="euroCounter" class="counter-pill counter-ok">0/2</span></div>
    <div id="euroControls" style="display:none;"></div>
  </div>

  <div class="cardx mb-3" id="mapSection">
    <h5>Map (1â€“50)</h5>
    <div id="mapMain" class="map-wrap mt-2"></div>
    <h5 class="mt-3">Eurozahlen (1â€“12)</h5>
    <div id="mapEuro" class="map-wrap mt-2"></div>
  </div>

  <div class="cardx mb-3" id="resultsSection">
    <h5>Ergebnisse</h5>
    <div id="progressText" class="small text-muted mb-1">â€“</div>
    <div id="liveOutput" class="live-box"></div>
  </div>
</div>

<div class="sticky-bottom-bar py-2">
  <div class="container">
    <div class="row g-2">
      <div class="col-6"><button id="generateBtn" class="btn btn-dark w-100">âš¡ Generieren</button></div>
      <div class="col-6"><button id="analyseBtn" class="btn btn-outline-dark w-100">ðŸ“ˆ Analysieren</button></div>
    </div>
  </div>
</div>

<script>
// Populate kombis
for(let i=1;i<=25;i++){let o=document.createElement('option');o.value=i;o.textContent=i;document.getElementById('kombis').appendChild(o);}
// Build map
function buildMap(){
  let mapMain=document.getElementById('mapMain'); mapMain.innerHTML='';
  for(let n=1;n<=50;n++){let g=n<=10?'g1':n<=20?'g2':n<=30?'g3':n<=40?'g4':'g5';let b=document.createElement('div');b.className='ball '+g; b.textContent=n;mapMain.appendChild(b);}
  let mapEuro=document.getElementById('mapEuro'); mapEuro.innerHTML='';
  for(let n=1;n<=12;n++){let g=n<=6?'e1':'e2';let b=document.createElement('div');b.className='ball '+g; b.textContent=n;mapEuro.appendChild(b);}
}
buildMap();
// Groups
const GROUPS=[{label:'1â€“10',max:5},{label:'11â€“20',max:5},{label:'21â€“30',max:5},{label:'31â€“40',max:5},{label:'41â€“50',max:5}];
const EGROUPS=[{label:'1â€“6',max:2},{label:'7â€“12',max:2}];
function buildControls(){let host=document.getElementById('groupControls');host.innerHTML='';GROUPS.forEach(g=>{let row=document.createElement('div');row.className='range-row';let lab=document.createElement('div');lab.textContent=g.label;let sel=document.createElement('select');sel.className='form-select';for(let v=0;v<=5;v++){let o=document.createElement('option');o.value=v;o.textContent=v;sel.appendChild(o);}sel.onchange=updateCounters;let hint=document.createElement('div');hint.textContent='0';row.appendChild(lab);row.appendChild(sel);row.appendChild(hint);host.appendChild(row);});}
function buildEuroControls(){let host=document.getElementById('euroControls');host.innerHTML='';EGROUPS.forEach(g=>{let row=document.createElement('div');row.className='range-row';let lab=document.createElement('div');lab.textContent=g.label;let sel=document.createElement('select');sel.className='form-select';for(let v=0;v<=2;v++){let o=document.createElement('option');o.value=v;o.textContent=v;sel.appendChild(o);}sel.onchange=updateCounters;let hint=document.createElement('div');hint.textContent='0';row.appendChild(lab);row.appendChild(sel);row.appendChild(hint);host.appendChild(row);});}
buildControls();buildEuroControls();document.getElementById('toggleEuro').onchange=e=>{document.getElementById('euroControls').style.display=e.target.checked?'':'none';updateCounters();};
function updateCounters(){let s=0;document.querySelectorAll('#groupControls select').forEach(sel=>{let v=+sel.value||0;s+=v;sel.parentElement.lastChild.textContent=v;});let mc=document.getElementById('mainCounter');mc.textContent=s+'/5';mc.className='counter-pill '+(s===5?'counter-ok':'counter-bad');let se=0;if(document.getElementById('toggleEuro').checked){document.querySelectorAll('#euroControls select').forEach(sel=>{let v=+sel.value||0;se+=v;sel.parentElement.lastChild.textContent=v;});}let ec=document.getElementById('euroCounter');ec.textContent=se+'/2';ec.className='counter-pill '+((se===0||se===2)?'counter-ok':'counter-bad');}
updateCounters();
// Generator dummy
document.getElementById('generateBtn').onclick=()=>{let total=+document.getElementById('kombis').value;let out=document.getElementById('liveOutput');out.textContent='';let i=0;let int=setInterval(()=>{i++;out.textContent+='#'+i+': Beispielzahlen\\n';document.getElementById('progressText').textContent=i+'/'+total;if(i>=total)clearInterval(int);},300);};
document.getElementById('analyseBtn').onclick=()=>{document.getElementById('resultsSection').scrollIntoView({behavior:'smooth'});};
</script>
</body>
</html>